#:import Snackbar kivymd.uix.snackbar.Snackbar
<AlertList>
# ЭКРАН: СПИСОК РАССЫЛКИ
    float_btn: float_btn
    sms: sms
    data: dist_label # Список рассылки
    input_json: input_json
    label_info: label_info
    BoxLayout:
        orientation: 'horizontal'
        padding: 5
        spacing: 10
        canvas.before:
            Color:
                rgba: 0.06, 0.44, 0.43, 1
            Rectangle:
                size: self.size
                pos: self.pos
        BoxLayout:
            orientation: 'vertical'
            Label:
                text: '[b]ТЕЛЕФОННАЯ КНИГА[/b]'
                markup: 1
                size_hint: 1, None
                text_size: self.size
                size: 0, 25
                font_size: 14
                halign: 'center'
                valign: 'middle'
                canvas.before:
                    Color:
                        rgba: (0.05, 0.34, 0.42, 1)
                    Rectangle:
                        size: self.size
                        pos: self.pos
            MDBottomNavigation:
                panel_color: "#0d5752"
                text_color_active: "lightgrey"
                use_text: False
                MDBottomNavigationItem:
                    name: 'screen 1'
                    text: 'СПИСОК'
                    icon: 'book'

                    ScrollView:
                        size: self.size
                        GridLayout:
                            id: float_btn
                            cols: 3
                            spacing: 2
                            size_hint_y: None
                            # row_default_height: '35'
                            # row_force_default: True
                            padding: 0, 2, 0, 2

                MDBottomNavigationItem:
                    name: 'screen 2'
                    text: 'РЕДАКТИРОВАНИЕ'
                    icon: 'book-edit'
                    on_tab_release:
                        root.LoadFromJSON()

                    BoxLayout:
                        orientation: 'vertical'
                        padding: 0, 0, 0, 1
                        TextInput:
                            id: input_json
                            size_hint: 1, 1
                            multiline: True
                            # font_name: 'segoeui'
                            font_size: 14
                            padding: 10
                            background_active: 'atlas://data/images/defaulttheme/textinput'
                            background_disabled_normal: 'atlas://data/images/defaulttheme/textinput'

                        BoxLayout:
                            orientation: 'horizontal'
                            size_hint: 1, None
                            size: 0, 35
                            spacing: 1
                            Label:
                                id: label_info
                                markup: 1
                                size_hint: 1, None
                                size: 0, 35
                                text_size: self.size
                                font_size: 12
                                halign: 'center'
                                valign: 'middle'
                                canvas.before:
                                    Color:
                                        rgba: (0.05, 0.34, 0.42, 1)
                                    Rectangle:
                                        size: self.size
                                        pos: self.pos

                            Button:
                                text: 'СОХРАНИТЬ'
                                size_hint: 1, None
                                size: 0, 35
                                font_size: 14
                                halign: 'center'
                                valign: 'middle'
                                background_normal: ''
                                background_color: (0.05, 0.42, 0.24, 1)
                                on_release:
                                    root.EditData()

        BoxLayout:
            orientation: 'vertical'
            spacing: 9
            id: sms
            size_hint_x: 0.5
            Label:
                text: '[b]СПИСОК РАССЫЛКИ[/b]'
                markup: 1
                size_hint: 1, None
                text_size: self.size
                size: 0, 25
                font_size: 14
                halign: 'center'
                valign: 'middle'
                canvas.before:
                    Color:
                        rgba: (0.05, 0.34, 0.42, 1)
                    Rectangle:
                        size: self.size
                        pos: self.pos

            ScrollView:
                do_scroll_x: False
                do_scroll_y: True
                canvas.before:
                    Color:
                        rgba: (1, 1, 1, 1)
                    Rectangle:
                        size: self.size
                        pos: self.pos

                Label:
                    id: dist_label
                    size_hint_y: None
                    height: self.texture_size[1]
                    text_size: self.width, None
                    padding: 10, 10
                    markup: 1
                    color: (0, 0, 0, .5)
                    font_size: 15

            BoxLayout:
                size_hint: 1, None
                size: 0, 30
                Button:
                    text: 'ОБНОВИТЬ'
                    markup: 1
                    size_hint: 1, None
                    text_size: self.size
                    size: 0, 30
                    font_size: 14
                    halign: 'center'
                    valign: 'middle'
                    background_normal: ''
                    background_color: (0.05, 0.42, 0.24, 1)
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            width: 1
                            rectangle: self.x, self.y, self.width, self.height
                    on_release:
                        root.manager.current = 'main'
                        Snackbar(text="Список рассылки обновлен!", snackbar_x="10dp", snackbar_y="10dp", size_hint_x=.4, bg_color=(0.05, 0.42, 0.24, 1)).open()
                Button:
                    text: 'ОЧИСТИТЬ'
                    markup: 1
                    size_hint: 1, None
                    text_size: self.size
                    size: 0, 30
                    font_size: 14
                    halign: 'center'
                    valign: 'middle'
                    background_normal: ''
                    background_color: (0.05, 0.42, 0.24, 1)
                    canvas.before:
                        Color:
                            rgba: 0, 0, 0, 1
                        Line:
                            width: 1
                            rectangle: self.x, self.y, self.width, self.height
                    on_release:
                        root.DelList()